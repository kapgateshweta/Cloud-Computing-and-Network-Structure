
Using the system loader engima,load the system using Jmeter.
Goals:to determine what is the maximum capacity that can be reached using single instance, two and three instances. And to see if our app can scale linearly. 
1.One server system
Using Jmeter and set the thread number is 2, and ramp up period is 30, then run the Jmeter, make the Jmeter request to server directly.
we can monitor the resource consuming of server:
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 3  0      0 149996  10004 224088    0    0     0     0  242  303 67 12 20  0  0
 1  0      0 182324  10012 224092    0    0     0     6  246  310 69 12 20  0  0
 0  0      0 203980  10012 224092    0    0     0     0  266  295 74 13 14  0  0
 2  0      0 190552  10012 224096    0    0     0     0  246  307 72  9 18  0  0
 2  0      0 150028  10020 224096    0    0     0     6  240  308 69  9 22  0  0
 2  0      0 150152  10020 224100    0    0     0     0  244  304 68 12 21  0  0
 2  0      0 150152  10028 224100    0    0     0     6  255  302 72 12 16  0  0
 0  0      0 203900  10028 224104    0    0     0     0  262  291 75 12 13  0  0
 2  0      0 181580  10028 224104    0    0     0     0  244  301 69 12 20  0  0
 2  0      0 149980  10036 224108    0    0     0     6  251  310 72 11 17  0  0
 2  0      0 181680  10036 224108    0    0     0     6  248  300 67 12 21  0  0
 2  0      0 149980  10044 224112    0    0     0     6  245  314 70 11 19  0  0
 2  0      0 149992  10044 224112    0    0     0    22  258  307 71 12 17  0  0
 2  0      0 149972  10044 224116    0    0     0     0  247  300 70 10 20  0  0
 2  0      0 150032  10052 224120    0    0     0    12  241  300 70 11 20  0  0
 2  0      0 150024  10052 224120    0    0     0     0  244  301 71 11 18  0  0
 2  0      0 150024  10060 224116    0    0     0     6  247  308 69 11 19  0  0
 2  0      0 157208  10060 224124    0    0     0     0  245  302 71 11 19  0  0
 2  0      0 172176  10060 224128    0    0     0     0  249  300 71 11 18  0  0
 2  0      0 150000  10068 224128    0    0     0     6  243  308 69 12 19  0  0
 2  0      0 151164  10068 224132    0    0     0     0  245  304 68 11 21  0  0
we can get the Throughput: 579.236 /minute or  9.6 /second ; Error :0.00%; KB/sec  2.0;  latency: 150-220 mm

2.Two servers system
Change the Jmeter thread number to 3, and make the Jmeter request to the load balancer, the load balancer distribute the request to the 
server 1 and server 2.
we can monitor the resource consuming of server 1 and server 2:

server 1:
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 1  0      0 194436  10764 230152    0    0     0     6  198  122 52 10 38  0  0
 0  0      0 194444  10764 230160    0    0     0     0  175  107 45  9 47  0  0
 0  0      0 194444  10764 230160    0    0     0     0  161  104 41  8 52  0  0
 1  0      0 167656  10772 230164    0    0     0     6  242  190 63 10 26  0  0
 1  0      0 170860  10772 230164    0    0     0     0  275  194 74 13 13  0  0
 2  0      0 140424  10772 230168    0    0     0     0  260  207 70 12 19  0  0
 2  0      0 140436  10780 230172    0    0     0     6  275  206 70 13 17  0  0
 0  0      0 194308  10780 230172    0    0     0     0  277  193 74 13 14  0  0
 0  0      0 194316  10788 230176    0    0     0     6  268  185 72 13 16  0  0
 2  0      0 155840  10788 230176    0    0     0     0  276  197 74 13 13  0  0
 2  0      0 175736  10788 230180    0    0     0    18  277  232 70 15 15  0  0
 1  0      0 166992  10796 230184    0    0     0    16  282  212 79 11 11  0  0
 1  0      0 167664  10796 230184    0    0     0     0  274  195 73 13 15  0  0
 0  0      0 194316  10804 230188    0    0     0     6  265  190 71 13 17  0  0
 1  0      0 167636  10804 230188    0    0     0     0  270  184 72 14 15  0  0
 0  0      0 194312  10804 230192    0    0     0     0  262  190 69 12 19  0  0
 1  0      0 167008  10812 230196    0    0     0     6  188  171 48  9 44  0  0
 1  0      0 167624  10812 230196    0    0     0     0  265  189 69 13 17  0  0
 1  0      0 167628  10820 230200    0    0     0     6  273  208 73 12 15  0  0
 1  0      0 166992  10820 230200    0    0     0     0  273  201 70 14 16  0  0
 1  0      0 167628  10820 230204    0    0     0     0  270  192 74 11 15  0  0

server 2:
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 2  0      0 282576   9948 123696    0    0     0     0  269  193 72 12 16  0  0
 1  0      0 285524   9948 123700    0    0     0     0  261  190 68 14 19  0  0
 0  0      0 309136   9956 123700    0    0     0     6  169  131 44  6 49  0  0
 1  0      0 282184   9956 123704    0    0     0     0  268  196 70 13 17  0  0
 1  0      0 280840   9956 123708    0    0     0     0  275  201 71 12 17  0  0
 1  0      0 281672   9968 123716    0    0     4     6  283  222 69 13 19  0  0
 1  0      0 296936   9968 123716    0    0     0     0  267  194 70 12 19  0  0
 1  0      0 291704   9976 123720    0    0     0    10  269  203 69 13 18  0  0
 0  0      0 308216   9976 123720    0    0     0     0  264  192 70 12 18  0  0
 1  0      0 281448   9976 123724    0    0     0     0  271  198 73 12 15  0  0
 1  0      0 281552   9984 123728    0    0     0     6  259  182 66 14 19  0  0
 1  0      0 281544   9984 123732    0    0     0    20  268  196 67 15 18  0  0
 0  0      0 308232   9992 123724    0    0     0    10  266  188 67 15 19  0  0
 1  0      0 281548   9992 123736    0    0     0     0  258  185 68 12 20  0  0
 1  0      0 280948   9992 123736    0    0     0     8  261  189 69 12 20  0  0
 1  0      0 281532  10000 123740    0    0     0     6  272  198 72 12 16  0  0
 1  0      0 281544  10000 123744    0    0     0     0  261  191 70 11 20  0  0
 0  0      0 308124  10008 123736    0    0     0     6  262  196 70  9 20  0  0
 1  0      0 296168  10008 123748    0    0     0     0  256  179 67 13 21  0  0
 1  0      0 298620  10008 123752    0    0     0     0  260  191 68 11 20  0  0
 1  0      0 281444  10016 123752    0    0     0     6  273  195 69 15 16  0  0

we can get the Throughput: 1213.063 /minute or  20.3 /second ; Error :0.00%; KB/sec  4.5;  latency: 100-200 mm

3. Three servers system
Change the Jmeter thread number to 4, and make the Jmeter request to the load balancer, the load balancer distribute the request to the 
server 1, server 2 and server 3.
we can monitor the resource consuming of server 1, server 2 and server 3:

server 1:
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 2  0      0 164616  12476 231292    0    0     0     0  255  181 67 12 22  0  0
 0  0      0 191292  12484 231296    0    0     0     6  223  169 59 10 31  0  0
 0  0      0 191300  12484 231296    0    0     0     0  227  161 58 11 31  0  0
 1  0      0 163980  12492 231292    0    0     0     6  226  172 58 11 30  0  0
 0  0      0 191304  12492 231300    0    0     0     0  236  164 63 11 27  0  0
 0  0      0 191288  12492 231304    0    0     0     0  257  174 70 12 19  0  0
 1  0      0 164504  12500 231304    0    0     0     6  261  189 66 13 20  0  0
 1  0      0 164592  12500 231308    0    0     0     0  254  179 68 11 22  0  0
 1  0      0 167048  12508 231304    0    0     0     6  258  181 68 12 21  0  0
 1  0      0 164624  12508 231312    0    0     0     0  260  184 69 11 20  0  0
 0  0      0 191188  12508 231316    0    0     0     0  255  180 68 13 20  0  0
 1  0      0 164608  12516 231316    0    0     0    24  261  178 71 12 17  0  0
 1  0      0 184080  12516 231320    0    0     0     0  266  205 69 13 18  0  0
 2  0      0 142524  12524 231316    0    0     0    12  262  189 68 12 19  0  0
 1  0      0 164612  12524 231324    0    0     0     6  258  183 67 12 21  0  0
 1  0      0 164616  12524 231328    0    0     0     0  265  174 70 13 18  0  0
 1  0      0 164496  12532 231328    0    0     0     6  253  179 69 11 21  0  0
 1  0      0 164492  12532 231332    0    0     0     0  254  179 64 15 21  0  0
 3  0      0 177640  12540 231328    0    0     0     6  258  202 67 12 21  0  0
 1  0      0 164496  12540 231336    0    0     0     0  272  211 69 15 17  0  0
 1  0      0 164528  12540 231340    0    0     0     0  263  178 67 14 18  0  0

server 2:
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 2  0      0 288348  11720 130640    0    0     0     6  242  183 62 12 26  1  0
 1  0      0 271828  11720 130652    0    0     0    20  249  176 65 11 25  0  0
 0  0      0 298480  11720 130652    0    0     0     0  235  160 61 11 29  0  0
 1  0      0 271824  11728 130656    0    0     0    10  252  183 62 14 25  0  0
 1  0      0 271764  11728 130656    0    0     0     4  252  183 67 11 23  0  0
 1  0      0 271800  11736 130652    0    0     0     6  254  180 66 13 21  0  0
 0  0      0 298376  11736 130664    0    0     0     0  250  171 66 12 23  0  0
 1  0      0 271800  11736 130664    0    0     0     0  250  169 67 10 23  0  0
 1  0      0 271788  11744 130668    0    0     0     6  255  182 64 13 23  0  0
 0  0      0 298320  11744 130668    0    0     0     0  256  168 67 12 21  0  0
 0  0      0 298364  11752 130664    0    0     0     6  242  166 62 13 25  0  0
 1  0      0 271808  11752 130676    0    0     0     0  243  169 63 12 25  0  0
 0  0      0 298364  11752 130676    0    0     0     0  260  182 70 13 17  0  1
 1  0      0 298324  11760 130680    0    0     0     6  256  184 65 14 22  0  0
 0  0      0 298380  11760 130680    0    0     0     0  247  168 63 13 24  0  0
 1  0      0 271704  11768 130676    0    0     0     6  255  184 64 12 24  0  0
 0  0      0 298368  11768 130688    0    0     0     0  237  155 61 11 27  0  0
 0  0      0 298368  11768 130688    0    0     0     0  230  159 62 10 28  0  0
 0  0      0 298336  11776 130692    0    0     0     6  240  170 62 11 28  0  0
 1  0      0 295628  11776 130692    0    0     0    22  249  181 64 13 24  0  0
 2  0      0 256412  11776 130696    0    0     0     0  246  171 64 12 25  0  0
 1  0      0 271688  11784 130696    0    0     0    10  250  177 63 13 23  0  0
 1  0      0 271688  11784 130700    0    0     0     0  250  170 65 13 23  0  0
 2  0      0 256656  11792 130704    0    0     0     6  249  174 65 13 22  1  0
 1  0      0 271672  11792 130704    0    0     0     0  251  182 64 14 22  0  0

server 3:
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 2  0      0 278008  10444 126080    0    0     0     0  252  167 66 11 24  0  0
 1  0      0 277896  10444 126080    0    0     0     0  250  180 65 12 23  0  0
 1  0      0 278012  10452 126084    0    0     0     6  238  166 65 10 26  0  0
 1  0      0 277968  10452 126088    0    0     0     0  249  184 64 12 24  0  0
 1  0      0 277872  10460 126080    0    0     0     6  251  180 65 12 24  0  0
 1  0      0 277868  10460 126092    0    0     0     0  248  180 64 12 24  0  0
 1  0      0 285824  10460 126092    0    0     0     0  243  171 63 12 25  0  0
 0  0      0 304564  10468 126096    0    0     0    28  250  175 65 11 24  0  0
 2  0      0 263104  10468 126100    0    0     0     0  246  178 65 11 24  0  0
 0  0      0 304576  10476 126092    0    0     0    10  245  180 65 10 25  1  0
 2  0      0 263904  10476 126104    0    0     0     0  248  173 66 10 24  0  0
 0  0      0 304556  10476 126104    0    0     0     0  248  171 65 11 24  0  0
 1  0      0 277860  10484 126108    0    0     0     6  250  179 66 10 24  0  0
 2  0      0 269876  10484 126112    0    0     0     0  249  184 63 13 24  0  0
 0  0      0 304568  10484 126112    0    0     0     0  261  190 71 12 17  0  0
 1  0      0 277872  10492 126116    0    0     0     6  259  183 71 12 18  0  0
 1  0      0 298284  10492 126116    0    0     0     0  247  176 64 12 23  0  0
 1  0      0 277828  10500 126120    0    0     0     6  241  165 63 11 26  0  0
 1  0      0 277852  10500 126124    0    0     0     0  250  166 66 11 24  0  0
 1  0      0 285688  10500 126124    0    0     0     0  243  162 63 12 26  0  0
 1  0      0 277860  10508 126128    0    0     0     6  247  180 65 12 24  0  0

we can get the Throughput: 1716.037 /minute or  30.1 /second ; Error :0.00%; KB/sec  6.7;  latency: 100-200 mm

Conclusion:
From the result of Jmeter, we could see the max capacity of one-server system is 9.6/sec, two-server system is 20.3/sec, three-server system is 30.1/sec. 
Therefore, the capacity will increase linearly with the increasing of server numbers. That's because the bottle neck of different number of server is always CPU, the memory and IO is always sufficinet. If the meomery and IO resource begin to the bottle neck of 2 server system or 3 server system, that may not the increase linearly with the increasing of server numbers.

